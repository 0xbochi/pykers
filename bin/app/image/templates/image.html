<!DOCTYPE html>
<html>
<head>
    <title>Images - Pykers</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
</head>
<body class="bg-dark text-white">
    {% include 'common/_navbar.html' %}

    <div class="back-container my-4">
        <a href="/home" class="btn btn-light">Back to home</a>
    </div>
    

    <div class="container text-light">
        <h1 class="text-center my-4 ">Images</h1>
        <a id="pull-image-btn" class="btn btn-secondary mb-2" href="/image/pull_image">Pull new image</a>
        <table class="table table-dark">
            <thead>
                <tr>
                    <th>Image Name</th>
                    <th>Used By</th>
                    <th>Actions</th>

                </tr>
            </thead>
            <tbody>
                {% for image in images %}
                <tr>
                    <td>{{ image.name }}</td>
                    <td>{{ image.used_by }}</td>
                    
                    <td>
                        <button class="btn btn-primary">Pull</button>
                        {% if image.used_by > 0 %}
                        <button class="delete-containers btn btn-warning" data-id="{{ image.id }}">Delete Containers</button>
                        {% else %}
                        <button class="delete-image btn btn-danger" data-id="{{ image.id }}">Delete</button>
                        {% endif %}
                        <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" style="display: none;"></span>
                    </td>
                    

                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <script src="{{ url_for('image.static', filename='main.js') }}"></script>
</body>
</html>
